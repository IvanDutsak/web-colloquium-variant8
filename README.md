# Course Management System

## Варіант 8: Зв'язки між сутностями та DRY принцип

Це веб-додаток на PHP, який демонструє два ключові концепти веб-розробки:

### 1. Зв'язки між сутностями (Associations) - Many-to-Many

Система реалізує Many-to-Many зв'язок між студентами та курсами:
- **Один студент** може бути записаний на **багато курсів**
- **Один курс** може мати **багато студентів**
- Зв'язок реалізується через таблицю `enrollments` (таблиця зв'язку)

### 2. DRY принцип (Don't Repeat Yourself)

Код організований таким чином, щоб уникнути дублювання:
- **Layouts** - спільна HTML структура для всіх сторінок
- **Partials** - переиспользуемі компоненти для відображення карток курсів та студентів
- **Моделі** - базовий клас Model з повторно використовуваними методами CRUD
- **Методи зв'язків** - методи в моделях для отримання пов'язаних даних

## Структура проєкту

```
web-colloquium/
├── index.php                 # Головна точка входу, маршрутизація
├── config/
│   └── config.php           # Конфігурація додатку
├── src/
│   ├── Database.php         # Singleton для роботи з БД (PDO)
│   ├── Model.php            # Базовий клас для моделей (CRUD операції)
│   ├── Course.php           # Модель Course з методами для Many-to-Many
│   ├── Student.php          # Модель Student з методами для Many-to-Many
│   └── Enrollment.php       # Модель Enrollment (таблиця зв'язку)
├── views/
│   ├── layout.php           # Спільний layout для всіх сторінок (DRY)
│   ├── partials/
│   │   ├── course_card.php  # Переиспользуемий компонент для курсу
│   │   └── student_card.php # Переиспользуемий компонент для студента
│   ├── courses/
│   │   ├── index.php        # Список всіх курсів
│   │   └── show.php         # Деталі курсу та його студенти
│   └── students/
│       ├── index.php        # Список всіх студентів
│       └── show.php         # Деталі студента та його курси
└── database/
    └── init.sql             # SQL скрипт для ініціалізації БД
```

## Встановлення та запуск

### 1. Ініціалізація бази даних

```bash
mysql -u root -p < database/init.sql
```

### 2. Налаштування конфігурації

Відредагуйте `config/config.php` з вашими параметрами підключення до БД:

```php
define('DB_HOST', 'localhost');
define('DB_USER', 'root');
define('DB_PASS', '');
define('DB_NAME', 'course_management');
```

### 3. Запуск веб-сервера

```bash
php -S localhost:8000
```

Потім відкрийте в браузері: `http://localhost:8000`

## Демонстрація концептів

### Питання 1: Зв'язки між сутностями (Many-to-Many)

**Файли для перегляду:**

1. **Таблиця зв'язку** - `database/init.sql`
   - Таблиця `enrollments` реалізує Many-to-Many зв'язок
   - Містить зовнішні ключі на `students` та `courses`

2. **Модель Course** - `src/Course.php`
   - Метод `getStudents()` - отримує всіх студентів на курсі через JOIN
   - Метод `addStudent()` - додає студента на курс
   - Метод `removeStudent()` - видаляє студента з курсу

3. **Модель Student** - `src/Student.php`
   - Метод `getCourses()` - отримує всі курси студента через JOIN
   - Метод `enrollInCourse()` - записує студента на курс
   - Метод `unenrollFromCourse()` - видаляє студента з курсу

4. **Модель Enrollment** - `src/Enrollment.php`
   - Таблиця зв'язку, яка реалізує Many-to-Many

### Питання 2: DRY принцип (Повторне використання коду)

**Файли для перегляду:**

1. **Layout** - `views/layout.php`
   - Спільна HTML структура для всіх сторінок
   - Навігація, стилі, footer - один раз для всього додатку

2. **Partials** - `views/partials/`
   - `course_card.php` - компонент для відображення курсу
   - `student_card.php` - компонент для відображення студента
   - Використовуються на кількох сторінках без дублювання

3. **Базовий Model** - `src/Model.php`
   - Методи `all()`, `find()`, `save()`, `delete()` - спільні для всіх моделей
   - Магічні методи `__get()` та `__set()` для доступу до атрибутів

4. **Успадкування** - `src/Course.php`, `src/Student.php`
   - Наслідують від Model та переиспользовують базову функціональність

## Технологічний стек

- **PHP 7.4+** - мова програмування
- **MySQL** - база даних
- **PDO** - безпечна робота з БД (захист від SQL-ін'єкцій)
- **HTML5 + CSS3** - фронтенд
- **OOP** - об'єктно-орієнтований підхід

## Ключові особливості

✅ **Many-to-Many зв'язок** - повна реалізація зв'язку між студентами та курсами
✅ **DRY принцип** - уникнення дублювання коду через layouts та partials
✅ **OOP** - класи, спадкування, інкапсуляція
✅ **PDO** - безпечна робота з БД
✅ **Singleton паттерн** - Database клас
✅ **MVC архітектура** - розділення логіки, моделей та представлень

## Автор

Варіант 8 - Колоквіум з веб-програмування
